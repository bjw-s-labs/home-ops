---
apiVersion: v1
kind: ConfigMap
metadata:
  name: immich-configmap
  namespace: selfhosted
data:
  # GENERAL
  LOG_LEVEL: log
  NODE_ENV: "production"
  # GEOCODING
  DISABLE_REVERSE_GEOCODING: "true"
  # URLS
  IMMICH_WEB_URL: http://immich-web.selfhosted.svc.cluster.local:3000
  IMMICH_SERVER_URL: http://immich-server.selfhosted.svc.cluster.local:3001
  IMMICH_MACHINE_LEARNING_ENABLED: "true"
  IMMICH_MACHINE_LEARNING_URL: http://immich-machine-learning.selfhosted.svc.cluster.local:3003
  PUBLIC_IMMICH_SERVER_URL: https://immich.bjw-s.dev
  IMMICH_API_URL_EXTERNAL: /api
  # DATABASE
  DB_PORT: "5432"
  # REDIS
  REDIS_HOSTNAME: immich-redis.selfhosted.svc.cluster.local
  REDIS_PORT: "6379"
  # TYPESENSE
  TYPESENSE_HOST: immich-typesense.selfhosted.svc.cluster.local
  TYPESENSE_PORT: "8108"
  TYPESENSE_PROTOCOL: http
  TYPESENSE_DATA_DIR: /config
  # MACHINE LEARNING
  TRANSFORMERS_CACHE: /usr/src/app/.transformers_cache
