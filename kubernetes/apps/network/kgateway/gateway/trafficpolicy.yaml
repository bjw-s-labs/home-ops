---
# yaml-language-server: $schema=https://k8s-schemas.bjw-s.dev/gateway.kgateway.dev/trafficpolicy_v1alpha1.json
apiVersion: gateway.kgateway.dev/v1alpha1
kind: TrafficPolicy
metadata:
  name: traffic-policy
spec:
  targetRefs:
    - group: gateway.networking.k8s.io
      kind: Gateway
      name: kgateway-internal
    - group: gateway.networking.k8s.io
      kind: Gateway
      name: kgateway-external
  buffer:
    disable: {}
  compression:
    requestDecompression: {}
    responseCompression: {}
  timeouts: # This only gets applied to HTTPRoute, so at the moment this does nothing
    request: 60s
    streamIdle: 0s
