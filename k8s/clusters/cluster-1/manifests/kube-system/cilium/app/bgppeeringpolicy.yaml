apiVersion: "cilium.io/v2alpha1"
kind: CiliumBGPPeeringPolicy
metadata:
  name: 01-bgp-peering-policy
spec:
  nodeSelector:
    matchLabels:
      kubernetes.io/os: "linux"
  virtualRouters:
    - localASN: 64513
      exportPodCIDR: true
      # the "NotIn" operator makes all services anounced over BGP
      serviceSelector:
        matchExpressions:
          - {key: allservices, operator: NotIn, values: ['will-be-announced']}
      neighbors:
        - peerAddress: "10.255.253.2/32"
          peerASN: 64513